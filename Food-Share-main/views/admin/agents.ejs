<main class="d-flex">
  <!-- Sidebar -->
  <%- include('../partials/adminSidebar') %>

  <!-- Main Content Wrapper -->
  <div id="main-wrapper" class="flex-grow-1">

    <!-- Top Bar -->
    <div class="bg-white shadow-sm p-3 d-flex align-items-center">
      <span class="me-3" id="sidebar-toggler-btn"><i class="fas fa-bars"></i></span>
      <h5 class="m-0 text-primary">Agents</h5>
    </div>

    <!-- Table Container -->
    <div class="container my-4">
      <div class="table-responsive rounded shadow-sm border bg-white" style="max-height: 70vh; overflow-y: auto;">
        <table class="table table-hover align-middle text-center mb-0">
          <thead class="table-light sticky-top" style="top: 0; z-index: 1;">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Agent Name</th>
              <th scope="col">Email</th>
              <th scope="col">Phone</th>
              <th scope="col">Joined Time</th>
            </tr>
          </thead>
          <tbody>
            <% if (agents.length === 0) { %>
              <tr>
                <td colspan="5" class="text-muted">No agents found.</td>
              </tr>
            <% } else { %>
              <% agents.forEach((agent, i) => { %>
                <tr>
                  <th scope="row"><%= i + 1 %></th>
                  <td><%= agent.firstName + " " + agent.lastName %></td>
                  <td><%= agent.email %></td>
                  <td><%= agent.phone %></td>
                  <td><%= agent.joinedTime.toLocaleString("en-IN", {
                    dateStyle: "medium",
                    timeStyle: "short"
                  }) %></td>
                </tr>
              <% }) %>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>

  </div>
</main>
